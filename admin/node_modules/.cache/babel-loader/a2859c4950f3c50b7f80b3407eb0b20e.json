{"ast":null,"code":"import _regeneratorRuntime from\"/media/vaseem/62A4C6B9A4C68ECB/projects/selecta/selecta/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/media/vaseem/62A4C6B9A4C68ECB/projects/selecta/selecta/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/media/vaseem/62A4C6B9A4C68ECB/projects/selecta/selecta/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import React,{useRef,useState}from'react';import Axios from\"axios\";import apiPath from'../../common/helpers/apiPath';import{ProgressBar}from'react-bootstrap';var Data=function Data(){var refTagFile=useRef(null);var _useState=useState(0),_useState2=_slicedToArray(_useState,2),progressValue=_useState2[0],setprogressValue=_useState2[1];function fileChange(e){refTagFile.current=e.target.files[0];console.log(refTagFile.current);uploadFile();}function uploadFile(){return _uploadFile.apply(this,arguments);}function _uploadFile(){_uploadFile=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var path,file,formData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:path=apiPath.uploadSocialMediaFile;file=refTagFile.current;formData=new FormData();formData.append('file',file);//const fr = await Helper.post_formdata(formData, path);\nAxios({headers:{\"Content-Type\":\"multipart/form-data\"},method:\"POST\",data:formData,url:\"http://localhost:3001\"+apiPath.uploadSocialMediaFile,onUploadProgress:function onUploadProgress(progress){var total=progress.total,loaded=progress.loaded;var totalSizeInMB=total/1000000;var loadedSizeInMB=loaded/1000000;var uploadPercentage=loadedSizeInMB/totalSizeInMB*100;setprogressValue(Math.floor(uploadPercentage));}});case 5:case\"end\":return _context.stop();}}},_callee);}));return _uploadFile.apply(this,arguments);}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12 p-0 d-flex justify-content-center bg-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-xl-7 col-lg-7 col-md-12 col-12 p-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-12 p-0 py-3\",children:/*#__PURE__*/_jsx(\"a\",{className:\"custHref\",children:\"Click here view links that will take you right to your downloadeble data files!\"})}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped table-bordered table-hover\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"From\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Size\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"1\"}),/*#__PURE__*/_jsx(\"td\",{children:\"samAnderson5450\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Facebook\"}),/*#__PURE__*/_jsx(\"td\",{children:\"1.3gb\"})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"2\"}),/*#__PURE__*/_jsx(\"td\",{children:\"mydata.snapchat\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Snapchat\"}),/*#__PURE__*/_jsx(\"td\",{children:\"0.32gb\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12 p-0 d-flex justify-content-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-xl-7 col-lg-7 col-md-12 col-12 p-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"custom-file customFile\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:fileChange,className:\"custom-file-input\",id:\"customFile\"}),/*#__PURE__*/_jsx(\"label\",{className:\"custom-file-label border\",htmlFor:\"customFile\",children:\"File Upload\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12 pt-2 d-flex justify-content-center\",children:/*#__PURE__*/_jsx(ProgressBar,{animated:true,now:progressValue,label:progressValue,className:\"col-12 p-0\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12 pt-2 d-flex justify-content-center \",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-dark px-3 \".concat(progressValue===100?\"btn-success\":\"\"),children:\"I' m Ready\"})})]})})]})})});};export default Data;","map":{"version":3,"sources":["/media/vaseem/62A4C6B9A4C68ECB/projects/selecta/selecta/admin/src/Component/Data/Data.tsx"],"names":["React","useRef","useState","Axios","apiPath","ProgressBar","Data","refTagFile","progressValue","setprogressValue","fileChange","e","current","target","files","console","log","uploadFile","path","uploadSocialMediaFile","file","formData","FormData","append","headers","method","data","url","onUploadProgress","progress","total","loaded","totalSizeInMB","loadedSizeInMB","uploadPercentage","Math","floor"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport Axios from \"axios\";\nimport apiPath from '../../common/helpers/apiPath';\n\nimport {ProgressBar} from 'react-bootstrap';\n\nconst Data = () => {\n  const refTagFile: any = useRef(null);\n  const [progressValue, setprogressValue] = useState<number>(0);\n  function fileChange(e: any) {\n    refTagFile.current = e.target.files[0];\n    console.log(refTagFile.current);\n    uploadFile();\n  }\n\n  async function uploadFile() {\n    let path = apiPath.uploadSocialMediaFile;\n    const file = refTagFile.current;\n    var formData = new FormData();\n    formData.append('file', file);\n\n    //const fr = await Helper.post_formdata(formData, path);\n    Axios({\n      headers: {\n        \"Content-Type\": \"multipart/form-data\",\n      },\n      method: \"POST\",\n      data: formData,\n      url: \"http://localhost:3001\" + apiPath.uploadSocialMediaFile,\n      onUploadProgress: progress => {\n        const { total, loaded } = progress;\n        const totalSizeInMB = total / 1000000;\n        const loadedSizeInMB = loaded / 1000000;\n        const uploadPercentage: number = (loadedSizeInMB / totalSizeInMB) * 100;\n        setprogressValue( Math.floor(uploadPercentage) );\n      }\n    });\n\n  }\n\n  return (\n    <>\n\n      <div className=\"col-12 p-0 d-flex justify-content-center bg-white\">\n        <div className=\"col-xl-7 col-lg-7 col-md-12 col-12 p-2\">\n          <div className=\"col-12 p-0 py-3\">\n            <a className=\"custHref\">\n              Click here view links that will take you right to your downloadeble data files!\n            </a>\n          </div>\n          <table className=\"table table-striped table-bordered table-hover\">\n            <thead>\n              <tr>\n                <th>#</th>\n                <th>Name</th>\n                <th>From</th>\n                <th>Size</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr>\n                <td>1</td>\n                <td>samAnderson5450</td>\n                <td>Facebook</td>\n                <td>1.3gb</td>\n              </tr>\n              <tr>\n                <td>2</td>\n                <td >mydata.snapchat</td>\n                <td>Snapchat</td>\n                <td>0.32gb</td>\n              </tr>\n            </tbody>\n          </table>\n          <div className=\"col-12 p-0 d-flex justify-content-center\">\n            <div className=\"col-xl-7 col-lg-7 col-md-12 col-12 p-2\">\n              <div className=\"custom-file customFile\">\n                <input type=\"file\" onChange={fileChange} className=\"custom-file-input\" id=\"customFile\" />\n                <label className=\"custom-file-label border\" htmlFor=\"customFile\">File Upload</label>\n              </div>\n              <div className=\"col-12 pt-2 d-flex justify-content-center\">\n                <ProgressBar animated now={progressValue} label={progressValue} className=\"col-12 p-0\"/>\n              </div>\n              <div className=\"col-12 pt-2 d-flex justify-content-center \">\n                <button className={`btn btn-outline-dark px-3 ${progressValue === 100 ? \"btn-success\" : \"\"}`}>I' m Ready</button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default Data;"]},"metadata":{},"sourceType":"module"}